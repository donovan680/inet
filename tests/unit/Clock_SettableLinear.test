%description:
Tests GranularityClock:

%#--------------------------------------------------------------------------------------------------------------
%inifile: omnetpp.ini
[General]
ned-path = .;../../../../src;../../lib
network = inet.test.unittest.lib.ClockTestNetwork
cmdenv-express-mode = false
cmdenv-log-prefix = "C:%C: "

*.host.clock.typename = "SettableLinearClock"
*.host.clock.timeShift = 0.03s
*.host.clock.driftRate = 1000ppm
*.scenarioManager.script = xml('<scenario><set-clock t="2.5s" module="host.clock" time="2.5s"/></scenario>')
%#--------------------------------------------------------------------------------------------------------------
%contains: stdout
Running simulation...
** Event #1  t=0   ClockTestNetwork.host.app (ClockTestApp, id=4)
C:(ClockTestApp)ClockTestNetwork.host.app: arrived: 0
C:(ClockTestApp)ClockTestNetwork.host.app: schedule to clock: 1.1, scheduled simtime: 1.07107, scheduled clock: 1.1
** Event #2  t=1.07107   ClockTestNetwork.host.app (ClockTestApp, id=4)
C:(ClockTestApp)ClockTestNetwork.host.app: arrived: 1.07107
C:(ClockTestApp)ClockTestNetwork.host.app: schedule to clock: 2.11, scheduled simtime: 2.08208, scheduled clock: 2.11
** Event #3  t=2.08208   ClockTestNetwork.host.app (ClockTestApp, id=4)
C:(ClockTestApp)ClockTestNetwork.host.app: arrived: 2.08208
C:(ClockTestApp)ClockTestNetwork.host.app: schedule to clock: 2.89, scheduled simtime: 2.86286, scheduled clock: 2.89
** Event #4  t=2.5   ClockTestNetwork.scenarioManager (ScenarioManager, id=3)
C:(ScenarioManager)ClockTestNetwork.scenarioManager: processing <set-clock> command...
C:(ScenarioManager)ClockTestNetwork.scenarioManager: processCommand: set clock time to 2.5s
C:(ScenarioManager)ClockTestNetwork.scenarioManager: set clock time to 2.5 at 2.5
** Event #5  t=2.89039   ClockTestNetwork.host.app (ClockTestApp, id=4)
C:(ClockTestApp)ClockTestNetwork.host.app: arrived: 2.89039
C:(ClockTestApp)ClockTestNetwork.host.app: schedule to clock: 2.9999999, scheduled simtime: 3.0004998999, scheduled clock: 2.9999999
** Event #6  t=3.0004998999   ClockTestNetwork.host.app (ClockTestApp, id=4)
C:(ClockTestApp)ClockTestNetwork.host.app: arrived: 3.0004998999
C:(ClockTestApp)ClockTestNetwork.host.app: schedule to clock: 3.11, scheduled simtime: 3.11061, scheduled clock: 3.11
** Event #7  t=3.11061   ClockTestNetwork.host.app (ClockTestApp, id=4)
C:(ClockTestApp)ClockTestNetwork.host.app: arrived: 3.11061

<!> No more events, simulation completed -- at t=3.11061s, event #7
%#--------------------------------------------------------------------------------------------------------------
%not-contains: stdout
undisposed object:
%not-contains: stdout
-- check module destructor
%#--------------------------------------------------------------------------------------------------------------
